exec=python
pre_almg:
	mkdir -p logs/tests/almg

tests_almg: pre_almg
	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent none --stabilisation-type-u burman --stabilisation-type-t burman --k 3 --nref 1 --cycles 1 --smoothing 6  --unstructured 2>&1 | tee "logs/tests/almg/ob3d_unst_none_almg_Gr_gamma_1e4_k_3_nref_1_stabu_burman_stabt_burman_cycles_1-rel_6.log" 
	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent viscosity --stabilisation-type-u burman --stabilisation-type-t burman --k 3 --nref 1 --cycles 1 --smoothing 6  --unstructured 2>&1 | tee "logs/tests/almg/ob3d_unst_visc_almg_Gr_gamma_1e4_k_3_nref_1_stabu_burman_stabt_burman_cycles_1-rel_6.log" 
	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent viscosity-conductivity --stabilisation-type-u burman --stabilisation-type-t burman --k 3 --nref 1 --cycles 1 --smoothing 6  --unstructured 2>&1 | tee "logs/tests/almg/ob3d_unst_visccond_almg_Gr_gamma_1e4_k_3_nref_1_stabu_burman_stabt_burman_cycles_1-rel_6.log" 
	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent none --stabilisation-type-u burman --stabilisation-type-t burman --k 3 --nref 2 --cycles 1 --smoothing 6  --unstructured  --plots 2>&1 | tee "logs/tests/almg/oo3d_unst_none_almg_Gr_gamma_1e4_k_3_nref_2_stabu_burman_stabT_burman_cycles_1-rel_6.log" 
	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent viscosity --stabilisation-type-u burman --stabilisation-type-t burman --k 3 --nref 2 --cycles 1 --smoothing 6  --unstructured --plots 2>&1 | tee "logs/tests/almg/ob3d_unst_visc_almg_Gr_gamma_1e4_k_3_nref_2_stabu_burman_stabt_burman_cycles_1-rel_6.log" 
	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent viscosity-conductivity --stabilisation-type-u burman --stabilisation-type-t burman --k 3 --nref 2 --cycles 1 --smoothing 6  --unstructured --plots 2>&1 | tee "logs/tests/almg/ob3d_unst_visccond_almg_Gr_gamma_1e4_k_3_nref_2_stabu_burman_stabt_burman_cycles_1-rel_6.log" 
#	$(exec) ob_cavity3d.py --discretisation sv --mh bary --patch macro --restriction --baseN 10 --gamma 1e4 --linearisation newton --temp-bcs left-right --stabilisation-weight-u 5e-3 --solver-type almg --thermal-conv natural_Gr --fields Tup --temp-dependent none --stabilisation-type-u burman --stabilisation-type-t supg --k 3 --nref 3 --cycles 1 --smoothing 6  --unstructured --plots 2>&1 | tee "logs/tests/almg/ob3d_unst_almg_Gr_gamma_1e4_k_3_nref_3_stabu_burman_stabT_supg_cycles_1-rel_6.log" 
